<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta name=viewport content="width=device-width, initial-scale=1">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link href="cl.css" rel="stylesheet"> 
    <link rel="alternate" type="application/rss+xml" title="RSS" href="rcl.rdf">
    <meta name="robots" content="noindex,follow">
    <meta name="google-site-verification" content="-aQG3gVrpQqzzxVLGijzIicWd90zuMfCnbVc2UBvDgw" />
    <meta name="robots" content="noindex,follow">
    <title>あかぴのChangeLog by rchalow / 2022-06-29</title>
  </head>
  <body>
  <div class="container">
      <div id="header">
        <h1><a href="index.html">あかぴのChangeLog by rchalow</a></h1>
        <p></p>
        <p class="calendar">2022-06 / 01 02 03 04 05 06 07 08 09 10 11 12 13 14 15 <a href="2022-06-16.html">16</a> <a href="2022-06-17.html">17</a> <a href="2022-06-18.html">18</a> <a href="2022-06-19.html">19</a> <a href="2022-06-20.html">20</a> <a href="2022-06-21.html">21</a> <a href="2022-06-22.html">22</a> <a href="2022-06-23.html">23</a> <a href="2022-06-24.html">24</a> <a href="2022-06-25.html">25</a> <a href="2022-06-26.html">26</a> <a href="2022-06-27.html">27</a> <a href="2022-06-28.html">28</a> <a href="2022-06-29.html">29</a> <a href="2022-06-30.html">30</a></p>
        <p>
          <a href="index.html">最新</a> /
          <a href="2022-06.html">2022-06</a>
           / <a href="2022-06-28.html">前の日</a>
           / <a href="2022-06-30.html">次の日</a>
        </p>
        <p>
        </p>
      </div><!-- header -->
      <div id='content' class='row-fluid'>
      <div class='col-xs-12 col-md-8 main'>
        <div class="day">
<h2><span class="date"><a id="2022-06-29" href="2022-06-29.html">2022-06-29 Wed</a></span></h2>

<div class="body">






<!-- start:2022-06-29-1 -->
<div class="section hentry">
  <div class="entry-title">
    <h3 class="subtitle"><a id="2022-06-29-1" href="2022-06-29-1.html"><span class="sanchor">■</span></a> <span class="clitemheader">オレオレfdclone-3.01j.ebuild</span> [<a href="cat_gentoo.html">Gentoo</a>][<a href="cat_fdclone.html">fdclone</a>]
      <a href="https://b.hatena.ne.jp/entry/https://akapy.github.io/rchalow/2022-06-29-1.html">
        <img src="https://b.hatena.ne.jp/entry/image/https://akapy.github.io/rchalow/2022-06-29-1.html" class="no_border" alt="はてぶ">
      </a>
      <span class="hatesta"><a href="2022-06-29-1.html"></a></span>
    </h3>
  </div>
  
  <div class="entry-tag">tag: [<a href="cat_gentoo.html">Gentoo</a>][<a href="cat_fdclone.html">fdclone</a>]</div>
  
  <div class="entry-content">
    <p><p>BIOS/MBR(CSM Boot)なマシンにgentooをインストールし直す機会があった。<br>
fdclone-3.01j.ebuild　書いてみた。<br>
無保証<br>
</p><p>
<blockquote># Copyright 1999-2022 Gentoo Authors<br>
# Distributed under the terms of the GNU General Public License v2<br>
</p><p>
</p><p>
EAPI=6<br>
</p><p>
DESCRIPTION="FDClone: Console Filer"<br>
HOMEPAGE="http://hp.vector.co.jp/authors/VA012337/soft/fd/"<br>
SRC_URI="http://hp.vector.co.jp/authors/VA012337/soft/fd/FD-${PV}.tar.gz \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="ftp://ftp.unixusers.net/src/fdclone/FD-$">ftp://ftp.unixusers.net/src/fdclone/FD-$</a>{PV}.tar.gz"<br>
</p><p>
LICENSE="FDCLONE"<br>
SLOT="0"<br>
KEYWORDS="~amd64 ~x86"<br>
#IUSE=""<br>
</p><p>
RDEPEND="sys-libs/ncurses"<br>
DEPEND="${RDEPEND}"<br>
</p><p>
S="${WORKDIR}/FD-${PV}"<br>
</p><p>
</p><p>
src_compile(){<br>
emake LDFLAGS=-ltinfo<br>
}<br>
</p><p>
</p><p>
src_install(){<br>
dobin fd fd-dict.tbl fd-unicd.tbl fd-cat.ja fd-cat.C<br>
dosym fd /usr/bin/fdsh<br>
dodoc FAQ* HISTORY* Install* LICENSES* README* TECHKNOW* ToAdmin*<br>
newman fd_e.man fd.1<br>
dosym /usr/share/man/man1/fd.1 /usr/share/man/man1/fdsh.1<br>
insinto /usr/share/man/ja/man1<br>
doins fd.1;<br>
dosym /usr/share/man/ja/man1/fd.1 /usr/share/man/ja/man1/fdsh.1<br>
insinto /etc<br>
newins _fdrc fd2rc<br>
}<br>
</blockquote><br>
はじめる前に自分overlay作ったほうが楽<br>
<a href="https://wiki.gentoo.org/wiki/Handbook:AMD64/Portage/CustomTree/ja#.E3.82.AB.E3.82.B9.E3.82.BF.E3.83.A0.E3.83.AA.E3.83.9D.E3.82.B8.E3.83.88.E3.83.AA.E3.82.92.E5.AE.9A.E7.BE.A9.E3.81.99.E3.82.8B">https://wiki.gentoo.org/wiki/Handbook:AMD64/Portage/CustomTree/ja#.E3.82.AB.E3.82.B9.E3.82.BF.E3.83.A0.E3.83.AA.E3.83.9D.E3.82.B8.E3.83.88.E3.83.AA.E3.82.92.E5.AE.9A.E7.BE.A9.E3.81.99.E3.82.8B</a><br>
の通りにoverlay<br>
　<br>
mkdir -p /var/db/repos/localrepo/{metadata,profiles}<br>
chown -R portage:portage /var/db/repos/localrepo<br>
</p><p>
echo 'localrepo' > /var/db/repos/localrepo/profiles/repo_name<br>
</p><p>
sudo emacs /var/db/repos/localrepo/metadata/layout.conf<br>
<blockquote>masters = gentoo<br>
auto-sync = false<br>
</blockquote><br>
sudo emacs /etc/portage/repos.conf/localrepo.conf<br>
<blockquote>[localrepo]<br>
location = /var/db/repos/localrepo<br>
</blockquote><br>
cat /etc/portage/repos.conf/gentoo.conf<br>
<blockquote>[DEFAULT]<br>
main-repo = gentoo<br>
</p><p>
[gentoo]<br>
location = /var/db/repos/gentoo<br>
sync-type = git<br>
sync-uri = <a href="https://github.com/gentoo-mirror/gentoo">https://github.com/gentoo-mirror/gentoo</a><br>
sync-git-verify-commit-signature = yes<br>
sync-openpgp-key-path = /usr/share/openpgp-keys/gentoo-release.asc<br>
auto-sync = yes<br>
</blockquote><br>
</p><p>
うちのfdcloneは<br>
/var/db/repos/localrepo/app-misc/fdclone/fdclone-3.01j.ebuild<br>
</p><p>
<hr>４１２８日後<br>
</p><p>
</p><p>
      
    </p>
    
  </div>
</div>
<!-- end:<TMPL_VAR name=ymdi> -->
<!-- 広告とか -->







<!--
<div class="comment">
<div class="caption">[
<a href='./kuttukibbs.cgi?id=2022-06-29'>コメント</a> |
<a href="tb/tb.cgi?__mode=list&tb_id=">トラックバック
(<script language="JavaScript" src="tb/tb_data/.js">
</script>)</a> ]</div>
<script language="JavaScript" type="text/javascript"
 src="kblog/2022-06-29.js"></script>
</div>
-->
</div>
</div>

      </div><!-- main -->
      <div class='col-xs-12 col-md-4 sidebar'>
        <div class="stdbox">
  <h4>最近の話題</h4>
  <div id='latest_items'></div>
  <script async src="cl.js"></script>

  <h4>過去ログ</h4>
  <div id='logs'></div>
</div>

      </div>
      </div>

      <div class="clear"></div>
      <div id="footer">
        <p>最終更新時間: <abbr class="updated" title="">
            2022-07-06 20:38</abbr>
          By <span class="vcard author"><span class="fn">akapy</span></span></p>
        
      </div><!-- /footer -->
      </div><!-- /container -->
    <!-- jquery required by bootstap -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
  </body>
</html>
